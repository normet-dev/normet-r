% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nm_causal_placebo.r
\name{nm_placebo_in_space}
\alias{nm_placebo_in_space}
\title{Placebo-in-Space Test for Synthetic Control}
\usage{
nm_placebo_in_space(
  df,
  date_col,
  unit_col,
  outcome_col,
  treated_unit,
  cutoff_date,
  donors = NULL,
  scm_backend = "scm",
  post_agg = "mean",
  verbose = TRUE,
  cleanup_every = 10,
  ...
)
}
\arguments{
\item{df}{A long-format panel data frame.}

\item{date_col}{Name of the date column.}

\item{unit_col}{Name of the unit identifier column.}

\item{outcome_col}{Name of the outcome variable column.}

\item{treated_unit}{The treated unit identifier.}

\item{cutoff_date}{The intervention cutoff date.}

\item{donors}{Optional vector of donor units. If NULL, all units except the treated are used.}

\item{scm_backend}{Which SCM backend to use: "scm" or "mlscm".}

\item{post_agg}{Aggregation method for post-treatment effect: "mean" or "sum".}

\item{verbose}{Logical; whether to print log messages.}

\item{cleanup_every}{Integer; how often to clear H2O memory (only relevant if scm_backend = "mlscm").}

\item{...}{Additional arguments passed to `nm_run_scm`.}
}
\value{
A list with:
\describe{
  \item{treated}{Data frame with the treated unit's effect path.}
  \item{placebos}{List of placebo effect paths for each donor unit.}
  \item{p_value}{Randomization inference p-value.}
  \item{ref_band}{Data frame with reference bands (quantiles, mean, sd).}
}
}
\description{
Runs placebo-in-space tests by iteratively treating each donor unit as if it
were the treated unit. This helps assess the significance of the observed
treatment effect by comparing it against a distribution of placebo effects.
}
