% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nm_causal_scm.r
\name{nm_scm}
\alias{nm_scm}
\title{Augmented Synthetic Control Method (SCM)}
\usage{
nm_scm(
  df,
  date_col = "date",
  unit_col = "code",
  outcome_col = "poll",
  treated_unit = NULL,
  cutoff_date = NULL,
  donors = NULL,
  pre_covariates = NULL,
  alphas = NULL,
  allow_negative_weights = FALSE,
  verbose = TRUE
)
}
\arguments{
\item{df}{Long data frame with columns for date, unit, and outcome.}

\item{date_col}{Name of the date column (coercible to Date).}

\item{unit_col}{Name of the unit identifier column.}

\item{outcome_col}{Name of the outcome column.}

\item{treated_unit}{The treated unit identifier.}

\item{cutoff_date}{The intervention cutoff date (character or Date).}

\item{donors}{Optional character vector of donor unit identifiers. If NULL, uses all non-treated units.}

\item{pre_covariates}{Optional character vector of pre-period covariate columns to augment features.}

\item{alphas}{Optional numeric vector of ridge lambdas. If NULL, uses seq(0.1, 10, by = 0.1).}

\item{allow_negative_weights}{Logical; if TRUE, donor weights may be negative. Default FALSE.}

\item{verbose}{Logical; if TRUE, prints log messages and shows a progress bar. Default TRUE.}
}
\value{
A list containing:
  \item{synthetic}{A data frame with observed, synthetic, and effect time series.}
  \item{weights}{A named vector of donor weights.}
  \item{alpha_map}{A list mapping each timestamp to the chosen Ridge lambda.}
}
\description{
\code{nm_scm} implements the Augmented Synthetic Control Method for a single treated unit.
}
